@import "tailwindcss";

[data-rehype-pretty-code-figure] {
  @apply !mt-4;
}

[data-rehype-pretty-code-figure] [data-rehype-pretty-code-title] {
  @apply bg-[#181825] px-2 py-1 text-[#bac2de];
}

[data-rehype-pretty-code-figure] [data-rehype-pretty-code-caption] {
  @apply text-muted-foreground;
}

[data-rehype-pretty-code-figure] pre {
  @apply rounded-none px-0;
}

[data-rehype-pretty-code-figure] code {
  @apply border-[1px] border-foreground/20 !text-sm !leading-loose md:text-base !p-0;
}

[data-rehype-pretty-code-figure] code span span::selection {
  background-color: --alpha(#9399b2 / 20%) !important;
}

[data-rehype-pretty-code-figure] code span span::-moz-selection {
  background-color: --alpha(#9399b2 / 20%) !important;
}

[data-rehype-pretty-code-figure] code[data-line-numbers] {
  counter-reset: line;
}

[data-rehype-pretty-code-figure] code[data-line-numbers] > [data-line]::before {
  counter-increment: line;
  content: counter(line);
  @apply mr-4 inline-block w-4 text-right text-[#7f849c];
}

[data-rehype-pretty-code-figure] [data-line] {
  @apply border-l-2 border-l-transparent px-3;
}

[data-rehype-pretty-code-figure] [data-highlighted-line] {
  background: rgba(88, 91, 112, 0.4);
  @apply border-l-[#89b4fa];
}

[data-rehype-pretty-code-figure] [data-highlighted-chars] {
  border-color: rgb(88, 91, 112);
  background-color: rgba(88, 91, 112, 0.4);
  box-shadow: 0 0 0 4px rgba(88, 91, 112, 0.4);
  @apply border-b-2 p-1 shadow-none;
}

[data-rehype-pretty-code-figure]:hover button.rehype-pretty-copy {
  @apply visible opacity-100 transition-opacity duration-300 ease-in-out;
}

button.rehype-pretty-copy {
  & {
    @apply invisible top-2 right-2 !size-5 cursor-pointer opacity-0;
  }

  .ready {
    --copy-icon: url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20stroke%3D%22%23adadad%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%3Crect%20width%3D%2214%22%20height%3D%2214%22%20x%3D%228%22%20y%3D%228%22%20rx%3D%222%22%2F%3E%3Cpath%20d%3D%22M4%2016c-1.1%200-2-.9-2-2V4c0-1.1.9-2%202-2h10c1.1%200%202%20.9%202%202%22%2F%3E%3C%2Fsvg%3E");
    background-size: --spacing(5) !important;
  }

  .success {
    --success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%23a6e3a1' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");
  }
}
